const dbBpackingMainPage = [
  {
    bpackingMainTitleRUS: 'Слои упаковки Вашего бизнеса в интернете',
    bpackingMainTitleENG: 'Layers packaging of your business',
    bpackingbuttonsBox: [
      {
        bPackingCaseDataName: '', // Указываем название Базы Данных (переменная), в которой лежат кэйсы по данной ссылке
        bPackingBtnBoxPosition: 'bpacking-box-btn-pos-1 ',
        bPackingBtnBoxRUS: 'Конверсионный',
        bPackingBtnBoxENG: 'Conversion',
        bPackingBtnBoxURL: 'images/Business_pack/box_1.png',
        bPackingBtnDataName: '0',
        /* bPackingBtnDetailTxtRUS: 'Текст секции "Конверсионный"',
        bPackingBtnDetailTxtENG: 'Some text of "Conversion" section', */
      },
      {
        bPackingCaseDataName: '', // Указываем название Базы Данных (переменная), в которой лежат кэйсы по данной ссылке
        bPackingBtnBoxPosition: 'bpacking-box-btn-pos-2 ',
        bPackingBtnBoxRUS: 'Технологический',
        bPackingBtnBoxENG: 'Technological',
        bPackingBtnBoxURL: 'images/Business_pack/box_2.png',
        bPackingBtnDataName: '1',
        /*         bPackingBtnDetailTxtRUS: 'Текст секции "Визуальный"',
        bPackingBtnDetailTxtENG: 'Some text of "Visual" section', */
      },
      {
        bPackingCaseDataName: '', // Указываем название Базы Данных (переменная), в которой лежат кэйсы по данной ссылке
        bPackingBtnBoxPosition: 'bpacking-box-btn-pos-3 ',
        bPackingBtnBoxRUS: 'Смысловой',
        bPackingBtnBoxENG: 'Semantic',
        bPackingBtnBoxURL: 'images/Business_pack/box_3.png',
        bPackingBtnDataName: '2',
        /*         bPackingBtnDetailTxtRUS: 'Текст секции "Смысловой"',
        bPackingBtnDetailTxtENG: 'Some text of "Semantic" section', */
      },
      {
        bPackingCaseDataName: '', // Указываем название Базы Данных (переменная), в которой лежат кэйсы по данной ссылке
        bPackingBtnBoxPosition: 'bpacking-box-btn-pos-4 ',
        bPackingBtnBoxRUS: 'Визуальный',
        bPackingBtnBoxENG: 'Visual',
        bPackingBtnBoxURL: 'images/Business_pack/box_4.png',
        bPackingBtnDataName: '3',
        /*         bPackingBtnDetailTxtRUS: 'Текст секции "Технологический"',
        bPackingBtnDetailTxtENG: 'Some text of "Technological" section', */
      },
      {
        bPackingCaseDataName: '', // Указываем название Базы Данных (переменная), в которой лежат кэйсы по данной ссылке
        bPackingBtnBoxPosition: 'bpacking-box-btn-pos-5 ',
        bPackingBtnBoxRUS: 'Аналитический',
        bPackingBtnBoxENG: 'Analytical',
        bPackingBtnBoxURL: 'images/Business_pack/box_5.png',
        bPackingBtnDataName: '4',
        /*         bPackingBtnDetailTxtRUS: 'Текст секции "Аналитический"',
        bPackingBtnDetailTxtENG: 'Some text of "Analytical" section', */
      },
    ],
    bpackingbuttonsDetail: [
      {
        bPackingBtnDetailRUS: 'Подробнее',
        bPackingBtnDetailENG: 'more details',
      },
    ],
  },
];

//Данные для шаблона модалки
const dbBpackingModal = [
  {
    bpackingModalTitleRUS: 'Конверсионный слой',
    bpackingModalTitleENG: 'Conversion layer',
    bpackingModalParagraphRUS1:
      'Или же по-простому, то чем Вы привелкаете внимание (Триггеры). Есть определенные правила, где и как расставлять эти самые, так называемые «капканы». Например, если на вашем сайте человек проводит минуту и не знает, что делать дальше, то у него всплывает окно, где Вы предлагаете ему оставить свой номер телефона, что бы Ваш менеджер дал ему бесплатную консультацию. Эти методы работают на 100%. Поверьте.',
    bpackingModalParagraphRUS2: '',
    bpackingModalParagraphENG1:
      'Or in a simple way, how do you attract attention (Triggers).  There are certain rules where and how to arrange these very so-called «traps».For example, if a person spends a minute on your website and does not know what to do next, then a window pops up where you offer him to leave his phone number so that your manager would give him a free consultation. These methods work 100%.. Believe me.',

    bpackingModalParagraphENG2: '',
    bpackingModalCircleSVG: 'conversion-layer',
  },
  {
    bpackingModalTitleRUS: 'Технологический слой',
    bpackingModalTitleENG: 'Technological layer',
    bpackingModalParagraphRUS1:
      'Это удобство и скорость, с которой клиент может получить информацию. В электронном варианте, это скорость загрузки сайта, адаптивность, юзабилити. В бумажном виде, это - удобство изучения медиакитов, презентаций, безошибочные тексты и так далее. Согласитесь, если Ваш сайт загружается минуту, а сайт Вашего конкурента 2 секунды, то велика вероятность, что вы можете потерять клиента, которому просто надоест ждать загрузки Вашего сайта. Ему без разницы где покупать, ему главное время. Это очень важный пугкт «упаковки бизнеса».',
    bpackingModalParagraphRUS2: '',
    bpackingModalParagraphENG1:
      'This is the convenience and speed with which the client can receive information. In the electronic version, this is the speed of the site loading, adaptability, usability. In paper form, this is the convenience of studying media kits, presentations, error-free texts and so on. Agree, if your site loads a minute, and your competitors site 2 seconds, then it is likely that you can lose a client who just gets tired of waiting for your site to load. It does not matter to him where to buy, the main time is for him. This is a very important point of the «packaging business».',

    bpackingModalParagraphENG2: '',
    bpackingModalCircleSVG: 'technological-layer',
  },
  {
    bpackingModalTitleRUS: 'Смысловой слой',
    bpackingModalTitleENG: 'Sense layer',
    bpackingModalParagraphRUS1:
      'Это суть. Это тот слой, который доносит до вашего потенциального клиента вашу экспертность. Она может заключаться в конкретных цифрах - опыте, наградах, масштабов проектов и так далее. Очень важно не врать в этом вопросе, иначе можно неплохо подпортить свою репутацию, но и не хвастаться сильно иначе можно оттолкнуть клиента.',
    bpackingModalParagraphRUS2: '',
    bpackingModalParagraphENG1:
      'This is the essence. This is the layer that conveys to your potential client your expertise. It may consist of specific numbers - experience, awards, the scope of projects, and so on. It’s very important not to lie in this matter, otherwise you can badly spoil your reputation, but also you can’t  boast much differently, you can push away the client.',

    bpackingModalParagraphENG2: '',
    bpackingModalCircleSVG: 'semantic-layer',
  },
  {
    bpackingModalTitleRUS: 'Визуальный слой',
    bpackingModalTitleENG: 'Visual layer',
    bpackingModalParagraphRUS1:
      'Это ваше лицо в глазах потребителя. Правильный и привлекательный дизайн, который поможет Вам донести тот самый смысловой слой так, как Вы это планировали. Ведь будет обидно, если Вы, например, обладаете наградой лучшего дизайнерского агенства года, но Ваш сайт сделан чуть ли не в Word 2003 с великолепными заголовками того времени.',
    bpackingModalParagraphRUS2: '',
    bpackingModalParagraphENG1:
      'This is your face in the eyes of the consumer. The correct and attractive design, which will help you to convey the same semantic layer as you planned it. After all, it will be a shame if, for example, you have received the award of the best design agency of the year, but your site is made almost in Word 2003 with magnificent headlines of that time.',
    bpackingModalParagraphENG2: '',
    bpackingModalCircleSVG: 'visual-layer',
  },
  {
    bpackingModalTitleRUS: 'Аналитический слой',
    bpackingModalTitleENG: 'Analytical layer',
    bpackingModalParagraphRUS1:
      'Это Ваш личный слой. Другими словами, Вы должны постоянно анализировать свои ошибки и исправлять их, что бы исключить потери клиентов, а в совершенстве и прибыли. Например, установка Вебвизора от Яндекс на сайт поможет посмотреть почему пользователь ушел с сайта. Возможно ему не понравилась какая-то надпись или картинка. Анализ также очень важен в любом бизнесе, ведь нельзя сделать что-то идеальное сразу. Нужно постоянно улучшать то, что уже сделано.',
    bpackingModalParagraphRUS2: '',
    bpackingModalParagraphENG1:
      'This is your personal layer. In other words, you must constantly analyze your mistakes and correct them in order to eliminate the loss of customers, and in the better case  and profit. For example, installing Yandex.Webvisor on a site will help you see why the user has left the site. Perhaps he did not like some inscription or picture. Analysis is also very important in any business, because you cannot do something ideal right away. It is necessary to constantly improve what has already been done.',

    bpackingModalParagraphENG2: '',
    bpackingModalCircleSVG: 'analytical-layer',
  },
];

//Заполняем шаблон страницы
const sourcebPackingButtons = document.getElementById('bpacking-main-wrapper')
  .innerHTML;
let bPackingitemsTemplate = Handlebars.compile(sourcebPackingButtons);

bpackingBuildMainPage(dbBpackingMainPage);
function bpackingBuildMainPage(items) {
  const markup = items.map(item => bPackingitemsTemplate(item)).join('');
  document
    .querySelector('.bpacking-box')
    .insertAdjacentHTML('beforeend', markup);
}

// Определяем, над какой кнопкой курсор, меняем коробку, меняем цвет кнопки, вставляем текст

const nodeBpackingBtnsBox = document.querySelectorAll('.bpacking-box-btn');
const bPackingBtnsBox = Array.from(nodeBpackingBtnsBox);
/* const bPackingDetailBoxTxt = document.querySelector(
  '.bpacking-box-details-txt',
); */
for (const bPackingCurrentBtnBox of bPackingBtnsBox) {
  bPackingCurrentBtnBox.addEventListener('mouseover', function(event) {
    const bPackingBtnBoxMouseOverHref = bPackingCurrentBtnBox.getAttribute(
      'href',
    );
    /*     const bPackingDetailBoxTxtData = bPackingCurrentBtnBox.getAttribute(
      'data-txt',
    ); */
    for (let z = 0; z < bPackingBtnsBox.length; z++) {
      bPackingBtnsBox[z].classList.remove('bpacking-box-btn-active');
    }
    bPackingCurrentBtnBox.classList.add('bpacking-box-btn-active');
    const bPackingCurrentBoxImg = document.querySelector('.bpacking-box-img');
    bPackingCurrentBoxImg.style.backgroundImage =
      'url(' + bPackingBtnBoxMouseOverHref + ')';
    /*    const bPackingDetailBoxTxt = document.querySelector(
      '.bpacking-box-details-txt',
    ); */

    /* bPackingDetailBoxTxt.innerHTML = bPackingDetailBoxTxtData; */
  });
}
bPackingOnLoad();
function bPackingOnLoad() {
  bPackingBtnsBox[0].classList.add('bpacking-box-btn-active');
  /*  bPackingDetailBoxTxt.innerHTML = bPackingBtnsBox[0].getAttribute('data-txt'); */
}

//БЛОК МОДАЛЬНОГО ОКНА
// Шаблон Модалки
const sourceBpackingModalBox = document.getElementById('bpacking-modal')
  .innerHTML;

let bpackingModalItemsTemplate = Handlebars.compile(sourceBpackingModalBox);

buildModalBpackingInfoBox(dbBpackingModal);
function buildModalBpackingInfoBox(items) {
  const markup = items.map(item => bpackingModalItemsTemplate(item)).join('');
  document
    .querySelector('.bpackingModal')
    .insertAdjacentHTML('beforeend', markup);
}

const nodebpackingModalWindow = document.querySelectorAll(
  '.bpacking-modal-container',
);
const bpackingModalWindow = Array.from(nodebpackingModalWindow);
var bpackingCurrentBtnOnClick = null;
//Функция открытия конкретного модального окна
function bpackingModalOpen(event) {
  bpackingCurrentBtnOnClick = event.getAttribute('data-name');
  bpackingModalWindow[bpackingCurrentBtnOnClick].classList.remove('hide');
  bpackingModalWindow[bpackingCurrentBtnOnClick].parentElement.classList.remove(
    'hide',
  );
  bpackingScrollOff();
}

// Функция закрытия модального окна
const bpackingModalContainer = document.querySelector('.bpackingModal');
function bpackingModalClose(event) {
  bpackingModalContainer.classList.add('hide');
  bpackingModalWindow[bpackingCurrentBtnOnClick].classList.add('hide');
}

const nodeBpackingModalContentBox = document.querySelectorAll(
  '.bpacking-modal-container',
);
const bpackingModalContentBox = Array.from(nodeBpackingModalContentBox);

bpackingModalContainer.addEventListener('click', function(event) {
  if (
    bpackingModalContentBox[bpackingCurrentBtnOnClick].contains(event.target)
  ) {
    return;
  } else {
    bpackingModalClose();
  }
});

// Отключаем скролл body под модальным окном
function bpackingScrollOff() {
  bpackingModalContainer.addEventListener('mousewheel', function(e) {
    e.wheelDeltaY ||
      (e.originalEvent &&
        (e.originalEvent.wheelDeltaY || e.originalEvent.wheelDelta)) ||
      e.wheelDelta ||
      0;
    e.stopPropagation();
    e.preventDefault();
  });
}
