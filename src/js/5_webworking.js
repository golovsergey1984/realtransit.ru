const dbwebWorkingGallery = [
  /*  {
    webWorkingTitleRUS: 'Заставьте сайт работать на вас!',
    webWorkingTitleENG: 'Make the site work for you!',
    webWorkingSubTitleRUS:
      'Внимание! Все сайты на этой страницевыполнены профессионалами. Не пытайтесь повторить это самостояельно! =)',
    webWorkingSubTitleENG:
      'Attention! All sites on this page are made by professionals. Do not try to repeat it yourself! =)',
    webWorkingGallery: [ */
  {
    webWorkingItemCompanyRUS: 'Гуугл',
    webWorkingItemCompanyENG: 'Google',
    webWorkingItemDescriptionRUS: 'Поисковой портал',
    webWorkingItemDescriptionENG: 'Search portal',
    webWorkingItemDFormatRUS: 'Лендинг',
    webWorkingItemFormatENG: 'Landing',
    webWorkingItemHref: 'https://www.google.com.ua/',
    webWorkingItemImg: 'images/Web_working/slide_1.png',
    webWorkingItemIMGDisplay: 'web-slide-tall', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт) или оставляй пустым
  },
  {
    webWorkingItemCompanyRUS: 'Фэйсбук',
    webWorkingItemCompanyENG: 'FACEBOOK',
    webWorkingItemDescriptionRUS: 'Социальные сети',
    webWorkingItemDescriptionENG: 'Social networks',
    webWorkingItemDFormatRUS: 'Корпоративный сайт',
    webWorkingItemFormatENG: 'Corporate website',
    webWorkingItemHref: 'https://uk-ua.facebook.com/',
    webWorkingItemImg: 'images/Web_working/slide_2.png',
    webWorkingItemIMGDisplay: '', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'Инстаграмм',
    webWorkingItemCompanyENG: 'instagram',
    webWorkingItemDescriptionRUS: 'Социальные сети',
    webWorkingItemDescriptionENG: 'Social networks',
    webWorkingItemDFormatRUS: 'Лендинг',
    webWorkingItemFormatENG: 'Landing',
    webWorkingItemHref: 'https://www.instagram.com/',
    webWorkingItemImg: 'images/Web_working/slide_6.png',
    webWorkingItemIMGDisplay: '', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'вайбер',
    webWorkingItemCompanyENG: 'VIBER',
    webWorkingItemDescriptionRUS: 'Мессенджер',
    webWorkingItemDescriptionENG: 'Messenger',
    webWorkingItemDFormatRUS: 'Интернет магазин',
    webWorkingItemFormatENG: 'Online store',
    webWorkingItemHref: 'https://www.viber.com/ru/',
    webWorkingItemImg: 'images/Web_working/slide_3.png',
    webWorkingItemIMGDisplay: '', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'телеграм',
    webWorkingItemCompanyENG: 'telegram',
    webWorkingItemDescriptionRUS: 'Мессенджер',
    webWorkingItemDescriptionENG: 'Messenger',
    webWorkingItemDFormatRUS: 'Корпоративный сайт',
    webWorkingItemFormatENG: 'Corporate website',
    webWorkingItemHref: 'https://telegram.org/',
    webWorkingItemImg: 'images/Web_working/slide_5.png',
    webWorkingItemIMGDisplay: '', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'скайп',
    webWorkingItemCompanyENG: 'skype',
    webWorkingItemDescriptionRUS: 'Видео связь',
    webWorkingItemDescriptionENG: 'Video communication',
    webWorkingItemDFormatRUS: 'Корпоративный портал',
    webWorkingItemFormatENG: 'corporate portal',
    webWorkingItemHref: 'https://www.skype.com/ru/',
    webWorkingItemImg: 'images/Web_working/slide_4.png',
    webWorkingItemIMGDisplay: 'web-slide-wide', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'Компания 1',
    webWorkingItemCompanyENG: 'Company 1',
    webWorkingItemDescriptionRUS: 'Какое-то описание 1',
    webWorkingItemDescriptionENG: 'Some description 1',
    webWorkingItemDFormatRUS: 'Какой-то сайт 1',
    webWorkingItemFormatENG: 'Some site 1',
    webWorkingItemHref: 'https://www.google.com.ua/',
    webWorkingItemImg: 'images/Order_us/Online_store/img_1.png',
    webWorkingItemIMGDisplay: 'web-slide-tall', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'Компания 2',
    webWorkingItemCompanyENG: 'Company 2',
    webWorkingItemDescriptionRUS: 'Какое-то описание 2',
    webWorkingItemDescriptionENG: 'Some description 2',
    webWorkingItemDFormatRUS: 'Какой-то сайт 2',
    webWorkingItemFormatENG: 'Some site 2',
    webWorkingItemHref: 'https://www.google.com.ua/',
    webWorkingItemImg: 'images/Order_us/Online_store/pic_2.png',
    webWorkingItemIMGDisplay: '', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  {
    webWorkingItemCompanyRUS: 'Компания 3',
    webWorkingItemCompanyENG: 'Company 3',
    webWorkingItemDescriptionRUS: 'Какое-то описание 3',
    webWorkingItemDescriptionENG: 'Some description 3',
    webWorkingItemDFormatRUS: 'Какой-то сайт 3',
    webWorkingItemFormatENG: 'Some site 3',
    webWorkingItemHref: 'https://www.google.com.ua/',
    webWorkingItemImg: 'images/Order_us/Online_store/pic_3.png',
    webWorkingItemIMGDisplay: 'web-slide-wide', //web-slide-tall или web-slide-wide (по одному на каждые 6ть шт)
  },
  /*     ],
  }, */
];

// Строим шаблонную галлерею
const webWorkingGallerysource = document.getElementById('web-working-img-box')
  .innerHTML;
let webWorkingItemsTemplate = Handlebars.compile(webWorkingGallerysource);
var webWorkingGalleryLimit = 6;
/* const webWorkingLimitCorrect = 6; // должен изначально равняться webWorkingGalleryLimit */
var webWorkingCountStart = 0;
//Считаем, сколько страниц отображено
var webWorkingPagesShown = 1;

//Определяем количество полных страниц для Галлереи
const webWorkingtotalFullPages = Math.ceil(
  dbwebWorkingGallery.length / webWorkingGalleryLimit,
);

webWorkingBuildGallery(dbwebWorkingGallery);
/* console.log(webWorkingCountStart);
console.log(webWorkingGalleryLimit); */
function webWorkingBuildGallery(items) {
  for (
    webWorkingCountStart;
    webWorkingCountStart < webWorkingGalleryLimit;
    webWorkingCountStart++
  ) {
    const currentPageToInsert = items[webWorkingCountStart];

    const currentPagePrint = webWorkingItemsTemplate(currentPageToInsert);
    document
      .querySelector('.web-working-img-container')
      .insertAdjacentHTML('beforeend', currentPagePrint);
  }
}

const webWorkingLimitCorrect = 6; // должен изначально равняться webWorkingGalleryLimit

function webWorkingArrowRight() {
  webWorkingPagesShown++;
  if (webWorkingPagesShown > webWorkingtotalFullPages) {
    webWorkingPagesShown--;
    return;
  } else {
    webWorkingDeleteGallery();
    webWorkingGalleryLimit = webWorkingGalleryLimit + webWorkingLimitCorrect;
    webWorkingBuildGallery(dbwebWorkingGallery);
  }
}

function webWorkingArrowLeft() {
  webWorkingPagesShown--;
  if (webWorkingPagesShown < 1) {
    webWorkingPagesShown++;
    return;
  } else {
    webWorkingDeleteGallery();
    webWorkingGalleryLimit = webWorkingGalleryLimit - webWorkingLimitCorrect;
    webWorkingCountStart = webWorkingCountStart - webWorkingLimitCorrect * 2;
    webWorkingBuildGallery(dbwebWorkingGallery);
  }
}

//Удаляем текущие слайды
function webWorkingDeleteGallery() {
  const nodeWebWorkingActiveSlides = document.querySelectorAll(
    '.web-slide-box',
  );
  const webWorkingActiveSlides = Array.from(nodeWebWorkingActiveSlides);
  for (let i = 0; i < webWorkingActiveSlides.length; i++) {
    webWorkingActiveSlides[i].remove();
  }
}

function mouseEnterSlide(elem) {
  var edge = closestEdge(event, elem);

  const currentSlideOver = elem.firstElementChild;
  const currentSlideifo = currentSlideOver.firstElementChild;

  currentSlideOver.style.animationName = '';
  if (edge === 'Верх') {
    currentSlideOver.style.animationName = 'to-bottom-in';
    currentSlideifo.classList.remove('hide');
  }
  if (edge === 'Низ') {
    currentSlideOver.style.animationName = 'to-top-in';
    currentSlideifo.classList.remove('hide');
  }
  if (edge === 'Право') {
    currentSlideOver.style.animationName = 'to-right-in';
    currentSlideifo.classList.remove('hide');
  }
  if (edge === 'Лево') {
    currentSlideOver.style.animationName = 'to-left-in';
    currentSlideifo.classList.remove('hide');
  }
}

// делаем интеракивную заливку слайда
function mouseleaveSlide(elem) {
  const currentSlideOver = elem.firstElementChild;
  const currentSlideifo = currentSlideOver.firstElementChild;
  var edge = closestEdge(event, elem);
  currentSlideOver.style.animationName = '';
  if (edge === 'Верх') {
    currentSlideOver.style.animationName = 'to-top-out';
    currentSlideifo.classList.add('hide');
  }
  if (edge === 'Низ') {
    currentSlideOver.style.animationName = 'to-bottom-out';
    currentSlideifo.classList.add('hide');
  }
  if (edge === 'Право') {
    currentSlideOver.style.animationName = 'to-right-out';
    currentSlideifo.classList.add('hide');
  }
  if (edge === 'Лево') {
    currentSlideOver.style.animationName = 'to-left-out';
    currentSlideifo.classList.add('hide');
  }
}

// Определяем заход мышки
function closestEdge(mouse, elem) {
  var elemBounding = elem.getBoundingClientRect();

  var elementLeftEdge = elemBounding.left;
  var elementTopEdge = elemBounding.top;
  var elementRightEdge = elemBounding.right;
  var elementBottomEdge = elemBounding.bottom;

  var mouseX = mouse.clientX;
  var mouseY = mouse.clientY;

  var topEdgeDist = Math.abs(elementTopEdge - mouseY);
  var bottomEdgeDist = Math.abs(elementBottomEdge - mouseY);
  var leftEdgeDist = Math.abs(elementLeftEdge - mouseX);
  var rightEdgeDist = Math.abs(elementRightEdge - mouseX);

  var min = Math.min(topEdgeDist, bottomEdgeDist, leftEdgeDist, rightEdgeDist);

  switch (min) {
    case leftEdgeDist:
      return 'Лево';
    case rightEdgeDist:
      return 'Право';
    case topEdgeDist:
      return 'Верх';
    case bottomEdgeDist:
      return 'Низ';
  }
}

function webRedirectCase(event) {
  event.setAttribute('rel', 'noopener noreferrer');
  let url = event.getAttribute('href');
  let otherWindow = window.open();
  otherWindow.opener = null;
  otherWindow.location = url;
}
