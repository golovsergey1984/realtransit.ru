"use strict";var html=document.querySelector("html"),subMenu=document.querySelector(".dropdown-content"),burger=document.querySelector(".burger-btn");function onChange(e){e.classList.toggle("change"),subMenu.classList.toggle("show")}function hideSub(e){768<window.screen.width||(burger.classList.remove("change"),subMenu.classList.remove("show"))}document.addEventListener("click",function(e){burger.contains(e.target)||subMenu.contains(e.target)||(burger.classList.remove("change"),subMenu.classList.remove("show"))});var rusContent=document.querySelectorAll('[data-leng="rus"]'),engContent=document.querySelectorAll('[data-leng="eng"]'),arrRusContent=Array.from(rusContent),arrEngContent=Array.from(engContent);function onChangeRus(e){preloadStart(),console.log(e),e.classList.add("onLoad");for(var n=0;n<arrRusContent.length;n++)arrRusContent[n].classList.remove("hide");for(var t=0;t<arrEngContent.length;t++)arrEngContent[t].classList.add("hide")}function onChangeEng(e){preloadStart(),console.log(e);for(var n=0;n<arrRusContent.length;n++)arrRusContent[n].classList.add("hide");for(var t=0;t<arrEngContent.length;t++)arrEngContent[t].classList.remove("hide")}var images=document.images,imagesTotalCount=images.length,imagesLoadedCount=0,preloader=document.getElementById("page-preloader"),percentageDisplay=document.getElementById("load-percentage");function preloadStart(){console.log("Я подключился"),0===imagesTotalCount&&(percentageDisplay.style.width="100%",exitPreloader());for(var e=0;e<imagesTotalCount;e++){var n=new Image;n.onload=imageLoaded,n.onerror=imageLoaded,n.src=images[e].src}imageLoaded()}function imageLoaded(){console.log("Я подключился во 2й функции");var e=(100/imagesTotalCount*++imagesLoadedCount<<0)+"%";percentageDisplay.style.width=e,imagesTotalCount<=imagesLoadedCount&&exitPreloader()}function exitPreloader(){console.log("Я подключился во 3й функции"),document.body.onload=function(){console.log("Я подключился во 4й функции"),setTimeout(function(){if(!preloader.classList.contains("done")){preloader.classList.add("done");var e=anchorsArray[0].offsetTop;window.scrollTo({top:e,behavior:"instant"})}},1e3)}}function totalPagesInner(e){document.getElementById("total-pages").innerHTML=e}function currentPageInner(e){var n=document.getElementById("current-page");e+=1,n.innerHTML=e<10?"0"+e:e}function scaleListInner(e){for(var n=document.getElementById("scale-list"),t=0;t<e;t+=1){var r=document.createElement("li");n.appendChild(r);var a=document.createElement("div");a.className="scale-circle",r.appendChild(a)}}function onChangeScaleCircleDawn(e){var n=document.querySelectorAll(".scale-circle"),t=Array.from(n);t[e].classList.add("active"),0!==e&&t[e-=1].classList.remove("active")}function onChangeScaleCircleUp(e){var n=document.querySelectorAll(".scale-circle"),t=Array.from(n);t[e].classList.add("active"),t[e+=1].classList.remove("active")}preloadStart();var nodeList=document.querySelectorAll('a[href*="#"]'),anchorsArray=Array.from(nodeList),arrLength=anchorsArray.length,i=0;function throttle(e,n){var t=Date.now();return function(){t+n-Date.now()<0&&(e(),t=Date.now())}}function callback(){0<event.deltaY?scroll():scrollTop()}function scroll(){i>=anchorsArray.length-1?i=anchorsArray.length-1:i+=1,location=anchorsArray[i].hash,currentPageInner(i),onChangeScaleCircleDawn(i)}function scrollTop(){(i-=1)<0&&(i=0),location=anchorsArray[i].hash,currentPageInner(i),onChangeScaleCircleUp(i)}currentPageInner(i),totalPagesInner(arrLength),scaleListInner(arrLength),onChangeScaleCircleDawn(i),window.addEventListener("mousewheel",throttle(callback,800)),document.onkeydown=function(e){switch(e.keyCode){case 38:scrollTop();break;case 40:scroll()}};