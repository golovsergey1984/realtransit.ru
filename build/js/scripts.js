"use strict";var rivalCar=document.getElementById("rival car"),rivalScale=document.querySelector(".rivals-circle-nav"),nodeRivalPoint=document.querySelectorAll("[data-way-point]"),rivalPoint=Array.from(nodeRivalPoint),countMove=0;function rivalInfoMove(e){"rivalInfoRight"===e.name&&(console.log("Вправо "+countMove),countMove<0&&(countMove=3,console.log("Вправо "+countMove)),4==countMove&&(countMove=0,console.log("Вправо "+countMove)),countMove+=1,rivalCar.className="rivals-car move-car-fwd-section-"+countMove),"rivalInfoLeft"===e.name&&(3<countMove&&(countMove=0),countMove<0&&(countMove=3,console.log("Влево "+countMove)),console.log("Влево "+countMove),rivalCar.className="rivals-car move-car-back-section-"+countMove,countMove-=1,console.log("Влево "+countMove))}rivalScale.onclick=function(e){var o=e.target.getAttribute("data-name"),n=Number(o);console.log(n),countMove=n,rivalCar.className="rivals-car move-car-fwd-section-"+countMove};var html=document.querySelector("html"),subMenu=document.querySelector(".dropdown-content"),burger=document.querySelector(".burger-btn");function onChange(e){e.classList.toggle("change"),subMenu.classList.toggle("show")}function hideSub(e){768<window.screen.width||(burger.classList.remove("change"),subMenu.classList.remove("show"))}function getColor(e){var o=document.querySelectorAll(".bgimage"),n=Array.from(o)[e].getAttribute("data-bgc"),t=document.querySelectorAll('[data-color="text change"]'),a=Array.from(t),r=document.querySelector('[data-color="svg change"]'),c=document.querySelector('[data-color="phone change"]'),l=document.querySelector(".Hmenu-logo");if("dark"===n){for(var s=0;s<a.length;s++)a[s].classList.remove("grey"),a[s].classList.add("white-text");c.classList.remove("nearly-black"),c.classList.add("white-text"),r.style.stroke="white",l.src="./images/logo_hover.png"}else{for(var i=0;i<a.length;i++)a[i].classList.add("grey");c.classList.add("nearly-black"),r.style.stroke="",l.src="./images/logo.png"}}function clientNumber(){var e=document.querySelector(".input-phone"),o=document.querySelector(".phone-line");""!=e.value?(alert(e.value),o.classList.remove("red-bg"),e.value=""):o.classList.add("red-bg")}document.addEventListener("click",function(e){burger.contains(e.target)||subMenu.contains(e.target)||(burger.classList.remove("change"),subMenu.classList.remove("show"))});var rusContent=document.querySelectorAll('[data-leng="rus"]'),engContent=document.querySelectorAll('[data-leng="eng"]'),rusFlag=document.getElementById("cover-flag_rus"),engFlag=document.getElementById("cover-flag_eng"),arrRusContent=Array.from(rusContent),arrEngContent=Array.from(engContent);function onChangeRus(e){console.log(engFlag),engFlag.classList.remove("cover-flag"),engFlag.classList.add("cover-flag_onload"),rusFlag.classList.remove("cover-flag_onload"),rusFlag.classList.add("cover-flag");for(var o=0;o<arrRusContent.length;o++)arrRusContent[o].classList.remove("hide");for(var n=0;n<arrEngContent.length;n++)arrEngContent[n].classList.add("hide")}function onChangeEng(e){rusFlag.classList.remove("cover-flag"),rusFlag.classList.add("cover-flag_onload"),engFlag.classList.remove("cover-flag_onload"),engFlag.classList.add("cover-flag");for(var o=0;o<arrRusContent.length;o++)arrRusContent[o].classList.add("hide");for(var n=0;n<arrEngContent.length;n++)arrEngContent[n].classList.remove("hide")}var images=document.images,imagesTotalCount=images.length,imagesLoadedCount=0,preloader=document.getElementById("page-preloader"),percentageDisplay=document.getElementById("load-percentage");function preloadStart(){0===imagesTotalCount&&(percentageDisplay.style.width="100%",exitPreloader());for(var e=0;e<imagesTotalCount;e++){var o=new Image;o.onload=imageLoaded,o.onerror=imageLoaded,o.src=images[e].src}imageLoaded()}function imageLoaded(){var e=(100/imagesTotalCount*++imagesLoadedCount<<0)+"%";percentageDisplay.style.width=e,imagesTotalCount<=imagesLoadedCount&&exitPreloader()}function exitPreloader(){document.body.onload=function(){setTimeout(function(){if(!preloader.classList.contains("done")){preloader.classList.add("done");var e=anchorsArray[0].offsetTop;window.scrollTo({top:e,behavior:"instant"})}},1e3)}}function totalPagesInner(e){document.getElementById("total-pages").innerHTML=e}function currentPageInner(e){var o=document.getElementById("current-page");e+=1,o.innerHTML=e<10?"0"+e:e}function scaleListInner(e){for(var o=document.getElementById("scale-list"),n=0;n<e;n+=1){var t=document.createElement("div"),a=document.createElement("a"),r=document.createElement("li");r.className="li-scale",a.className="scale-href",a.href=anchorsArray[n].hash,r.appendChild(a),t.className="scale-circle",a.appendChild(t),r.setAttribute("onclick","changeCircleScale(this) "),o.appendChild(r)}}function onChangeScaleCircle(e){for(var o=document.querySelectorAll(".scale-circle"),n=Array.from(o),t=0;t<n.length;t++)n[t].classList.remove("active");n[e].classList.add("active")}function changeCircleScale(e){var o=0;for(o=0;o<anchorsArray.length;o++)anchorsArray[o].hash===e.children[0].hash&&(0===o?showMenuItems():hideMenuItems(),currentPageInner(i=o),onChangeScaleCircle(i),getColor(i))}preloadStart();var nodeList=document.querySelectorAll('a[href*="#"]'),anchorsArray=Array.from(nodeList),arrLength=anchorsArray.length,i=0;function throttle(e,o){var n=Date.now();return function(){n+o-Date.now()<0&&(e(),n=Date.now())}}function callback(){0<event.deltaY?scroll():scrollTop()}function scroll(){i>=anchorsArray.length-1?i=anchorsArray.length-1:i+=1,0<i&&hideMenuItems(),location=anchorsArray[i].hash,currentPageInner(i),onChangeScaleCircle(i),getColor(i)}function scrollTop(){0===(i-=1)&&showMenuItems(),i<0&&(i=0),location=anchorsArray[i].hash,currentPageInner(i),onChangeScaleCircle(i),getColor(i)}function hideMenuItems(){document.querySelector(".messengers").classList.add("none"),document.querySelector(".schedule").classList.add("none")}function showMenuItems(){document.querySelector(".messengers").classList.remove("none"),document.querySelector(".schedule").classList.remove("none")}currentPageInner(i),totalPagesInner(arrLength),scaleListInner(arrLength),onChangeScaleCircle(i),window.addEventListener("mousewheel",throttle(callback,800)),document.onkeydown=function(e){switch(e.keyCode){case 38:scrollTop();break;case 40:scroll()}};